{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{Table,Button,message}from'antd';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EventsTable=()=>{const[data,setData]=useState([]);const[loading,setLoading]=useState(false);const fetchEventsData=async()=>{const apiKey='qUupP6epE11uOMW8gAVnW2HBgPdiSR0y34nKkYSk';// Replace with your actual API key\nconst apiEndpoint=\"https://j08vu3l062.execute-api.us-east-1.amazonaws.com/prod/events\";setLoading(true);try{const response=await axios.get(apiEndpoint,{headers:{'x-api-key':\"\".concat(apiKey)// Replace with your actual API key\n}});if(response.data&&Array.isArray(response.data)){const formattedData=response.data.map((item,index)=>({key:index,videoId:item.video_id,warehouseId:item.warehouse_id,itemId:item.item_id,itemCount:item.item_count,timestamp:item.timestamp,status:item.status}));setData(formattedData);}else{message.error('Invalid data format received from API');}}catch(error){message.error('Failed to fetch data');}finally{setLoading(false);}};const columns=[{title:'Video ID',dataIndex:'videoId',key:'videoId'},{title:'Warehouse ID',dataIndex:'warehouseId',key:'warehouseId'},{title:'Item ID',dataIndex:'itemId',key:'itemId'},{title:'Item Count',dataIndex:'itemCount',key:'itemCount'},{title:'Timestamp',dataIndex:'timestamp',key:'timestamp'},{title:'Status',dataIndex:'status',key:'status'}];return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:fetchEventsData,loading:loading,children:\"Get Events Data\"}),/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:data,style:{marginTop:'20px'}})]});};export default EventsTable;","map":{"version":3,"names":["React","useState","axios","Table","Button","message","jsx","_jsx","jsxs","_jsxs","EventsTable","data","setData","loading","setLoading","fetchEventsData","apiKey","apiEndpoint","response","get","headers","concat","Array","isArray","formattedData","map","item","index","key","videoId","video_id","warehouseId","warehouse_id","itemId","item_id","itemCount","item_count","timestamp","status","error","columns","title","dataIndex","style","padding","children","type","onClick","dataSource","marginTop"],"sources":["/home/hansal/Documents/CHILS/CHILS-interface/CHILS/src/components/GetEventsTable.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { Table, Button, message } from 'antd';\n\nconst EventsTable = () => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const fetchEventsData = async () => {\n    const apiKey = 'qUupP6epE11uOMW8gAVnW2HBgPdiSR0y34nKkYSk'; // Replace with your actual API key\n    const apiEndpoint = `https://j08vu3l062.execute-api.us-east-1.amazonaws.com/prod/events`;\n    setLoading(true);\n    try {\n      const response = await axios.get(apiEndpoint, {\n        headers: {\n          'x-api-key': `${apiKey}` // Replace with your actual API key\n        }\n      });\n\n      if (response.data && Array.isArray(response.data)) {\n        const formattedData = response.data.map((item, index) => ({\n          key: index,\n          videoId: item.video_id,\n          warehouseId: item.warehouse_id,\n          itemId: item.item_id,\n          itemCount: item.item_count,\n          timestamp: item.timestamp,\n          status: item.status,\n        }));\n        setData(formattedData);\n      } else {\n        message.error('Invalid data format received from API');\n      }\n    } catch (error) {\n      message.error('Failed to fetch data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const columns = [\n    {\n      title: 'Video ID',\n      dataIndex: 'videoId',\n      key: 'videoId',\n    },\n    {\n      title: 'Warehouse ID',\n      dataIndex: 'warehouseId',\n      key: 'warehouseId',\n    },\n    {\n      title: 'Item ID',\n      dataIndex: 'itemId',\n      key: 'itemId',\n    },\n    {\n      title: 'Item Count',\n      dataIndex: 'itemCount',\n      key: 'itemCount',\n    },\n    {\n      title: 'Timestamp',\n      dataIndex: 'timestamp',\n      key: 'timestamp',\n    },\n    {\n      title: 'Status',\n      dataIndex: 'status',\n      key: 'status',\n    },\n  ];\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <Button type=\"primary\" onClick={fetchEventsData} loading={loading}>\n        Get Events Data\n      </Button>\n      <Table\n        columns={columns}\n        dataSource={data}\n        style={{ marginTop: '20px' }}\n      />\n    </div>\n  );\n};\n\nexport default EventsTable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}