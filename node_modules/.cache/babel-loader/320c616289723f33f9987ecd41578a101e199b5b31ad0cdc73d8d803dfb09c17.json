{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{Table,Button,message}from\"antd\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GetUsersTable=()=>{const[data,setData]=useState([]);const[loading,setLoading]=useState(false);const fetchUsersData=async()=>{const apiKey=\"qykpj8cp3w7yT1gpz23pu7aVdxzm5H1O9c5rSIrR\";// Replace with your actual API key\nconst apiEndpoint=\"https://8s894flf3d.execute-api.us-east-1.amazonaws.com/prod/profiles\";setLoading(true);try{const response=await axios.get(apiEndpoint,{headers:{\"x-api-key\":\"\".concat(apiKey)// Replace with your actual API key\n}});if(response.data&&Array.isArray(response.data)){const formattedData=response.data.map((item,index)=>({key:index,user_id:item.user_id,user_name:item.user_name,user_type:item.user_type,phone_no:item.phone_no,name:item.name,email:item.email,password:item.password}));setData(formattedData);}else{message.error(\"Invalid data format received from API\");}}catch(error){message.error(\"Failed to fetch data\");}finally{setLoading(false);}};const columns=[{title:\"User ID\",dataIndex:\"user_id\",key:\"user_id\"},{title:\"User Name\",dataIndex:\"user_name\",key:\"user_name\"},{title:\"User Type\",dataIndex:\"user_type\",key:\"user_type\"},{title:\"Phone No\",dataIndex:\"phone_no\",key:\"phone_no\"},{title:\"Name\",dataIndex:\"name\",key:\"name\"},{title:\"Email\",dataIndex:\"email\",key:\"email\"},{title:\"Password\",dataIndex:\"password\",key:\"password\"}];return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"20px\"},children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:fetchUsersData,loading:loading,children:\"Get Users Data\"}),/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:data,style:{marginTop:\"20px\"}})]});};export default GetUsersTable;","map":{"version":3,"names":["React","useState","axios","Table","Button","message","jsx","_jsx","jsxs","_jsxs","GetUsersTable","data","setData","loading","setLoading","fetchUsersData","apiKey","apiEndpoint","response","get","headers","concat","Array","isArray","formattedData","map","item","index","key","user_id","user_name","user_type","phone_no","name","email","password","error","columns","title","dataIndex","style","padding","children","type","onClick","dataSource","marginTop"],"sources":["/home/hansal/Documents/CHILS/CHILS-interface/CHILS/src/components/GetUsersTable.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Table, Button, message } from \"antd\";\n\nconst GetUsersTable = () => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const fetchUsersData = async () => {\n    const apiKey = \"qykpj8cp3w7yT1gpz23pu7aVdxzm5H1O9c5rSIrR\"; // Replace with your actual API key\n    const apiEndpoint = `https://8s894flf3d.execute-api.us-east-1.amazonaws.com/prod/profiles`;\n    setLoading(true);\n    try {\n      const response = await axios.get(apiEndpoint, {\n        headers: {\n          \"x-api-key\": `${apiKey}`, // Replace with your actual API key\n        },\n      });\n\n      if (response.data && Array.isArray(response.data)) {\n        const formattedData = response.data.map((item, index) => ({\n          key: index,\n          user_id: item.user_id,\n          user_name: item.user_name,\n          user_type: item.user_type,\n          phone_no: item.phone_no,\n          name: item.name,\n          email: item.email,\n          password: item.password,\n        }));\n        setData(formattedData);\n      } else {\n        message.error(\"Invalid data format received from API\");\n      }\n    } catch (error) {\n      message.error(\"Failed to fetch data\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const columns = [\n    {\n      title: \"User ID\",\n      dataIndex: \"user_id\",\n      key: \"user_id\",\n    },\n    {\n      title: \"User Name\",\n      dataIndex: \"user_name\",\n      key: \"user_name\",\n    },\n    {\n      title: \"User Type\",\n      dataIndex: \"user_type\",\n      key: \"user_type\",\n    },\n    {\n      title: \"Phone No\",\n      dataIndex: \"phone_no\",\n      key: \"phone_no\",\n    },\n    {\n      title: \"Name\",\n      dataIndex: \"name\",\n      key: \"name\",\n    },\n    {\n      title: \"Email\",\n      dataIndex: \"email\",\n      key: \"email\",\n    },\n    {\n      title: \"Password\",\n      dataIndex: \"password\",\n      key: \"password\",\n    },\n  ];\n\n  return (\n    <div style={{ padding: \"20px\" }}>\n      <Button type=\"primary\" onClick={fetchUsersData} loading={loading}>\n        Get Users Data\n      </Button>\n      <Table\n        columns={columns}\n        dataSource={data}\n        style={{ marginTop: \"20px\" }}\n      />\n    </div>\n  );\n};\n\nexport default GetUsersTable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}